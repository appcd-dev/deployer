domain: &domain test.stackgen.local
enable_ingress: &enable_ingress true
pullPolicy: &pullPolicy IfNotPresent
licenseKey: test.stackgen.local
nginx:
  client_max_body_size: 10M
nginx-ingress-controller:
  serviceMonitor:
    enabled: false
  prometheusRule:
    enabled: false
support:
  alerts:
    enabled: false

features:
  editableIac: true
  moduleEditor: true
global:
  temporal:
    hostport: "temporal-frontend:7233"
    namespace: stackgen

temporal:
    hostport: "temporal-frontend:7233"
    namespace: stackgen
exporter:
  enabled: true
  helm_workload_5a048be506c75a07b1aeec33d33e56e3:
    image_pull_policy: *pullPolicy
  helm_ingress_a0d9d3b950a15ef6aeb5d528f0ed1481:
    rules:
      - host: *domain
        http:
          paths:
          - path: /exporter
            pathType: Prefix
stackgen-vault:
  enabled: true
  helm_workload_54a040c89d8252de9a426f2ad1f92af6:
    image_pull_policy: *pullPolicy
  helm_ingress_338c921c23b152c68768988f70dcc932:
    rules:
      - host: *domain
        http:
          paths:
          - path: /api/vault
            pathType: Prefix
appcd:
  domain: *domain
  auth:
    enabled: false
    enable_group_sync: false
    need_user_vetting: false
  autoscaling:
    maxReplicas: 30
    targetCPUUtilizationPercentage: 50
  ingress:
    enabled: *enable_ingress
  image:
    pullPolicy: *pullPolicy
  scm:
    github:
      auth_url: https://github.com/login/oauth/authorize
      token_url: https://github.com/login/oauth/access_token
    gitlab:
      auth_url: https://gitlab.com/oauth/authorize
      token_url: https://gitlab.com/oauth/token
    azure:
      auth_url: https://app.vssps.visualstudio.com/oauth2/authorize
      token_url: https://app.vssps.visualstudio.com/oauth2/token
  serviceMonitor:
    enabled: false
  alertmanager:
    enabled: false
  prometheusRule:
    enabled: false
  resources:
    requests:
      memory: "1000Mi"
      cpu: "1000m"
  storage:
    worm:
      enabled: false
  secrets:
    - appcd-secrets
    - appcd-scm-secrets
appcd-ui:
  domain: *domain
  image:
    pullPolicy: *pullPolicy
  ingress:
    enabled: *enable_ingress
iac-gen:
  domain: *domain
  image:
    pullPolicy: *pullPolicy
  probes:
    liveness:
      enabled: false
    readiness:
      enabled: false
  temporal:
    hostport: "temporal-frontend:7233"
    namespace: stackgen
  ingress:
    enabled: *enable_ingress
  storage:
    worm:
      enabled: false
  secrets:
    - appcd-secrets
    - appcd-scm-secrets
tf-module-service:
  image:
    pullPolicy: *pullPolicy

integrations:
  enabled: true
  helm_workload_1b5f1d019692549bb714785b7636f446:
    image_pull_policy: *pullPolicy
  helm_ingress_fed20208495e5e5c9c7adf36f31a3b8e:
    rules:
      - host: *domain
        http:
          paths:
            - path: /integrations
              pathType: Prefix
  helm_ingress_fed20208495e5e5c9c7adf36f31a3b8e_swagger:
    rules:
      - host: *domain
        http:
          paths:
            - path: /integrations/api/swagger
              pathType: Prefix
  helm_ingress_fed20208495e5e5c9c7adf36f31a3b8e_mcp:
    rules:
      - host: *domain
        http:
          paths:
          - path: /api/mcp
            pathType: Prefix

backstage-adapter:
  enabled: false
  helm_workload_1b5f1d019692549bb714785b7636f446:
    image_tag: main
    image_pull_policy: *pullPolicy
    env:
      STACKGEN_BASE_API_URL: https://test.stackgen.local/integrations/api/
      STACKGEN_APPSTACKS_URL: https://test.stackgen.local/appstacks
  helm_ingress_fed20208495e5e5c9c7adf36f31a3b8e:
    rules:
      - host: *domain
        http:
          paths:
          - path: /backstage-adapter
            pathType: Prefix

infra-catalog-tracker:
  enabled: false
  helm_workload_29510bf8f3775740827eff66846105ef:
    image_pull_policy: *pullPolicy
deployment-manager:
  enabled: false
  helm_workload_eedf62a44e21519893dea9656ef6fc10:
    image_pull_policy: *pullPolicy
  helm_ingress_58fbd417de1059fcbef3ce2fc0073ba6:
    rules:
      - host: *domain
        http:
          paths:
          - path: /deployment-manager
            pathType: Prefix
